<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR星战大联盟 - 房间大厅界面</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <style>
        body {
            margin: 0;
            background: #000;
            overflow: hidden;
        }
        #ui-overlay {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #00ffff;
            font-family: 'Arial', sans-serif;
            z-index: 1000;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="ui-overlay">
        <div>MR星战大联盟 - 房间大厅界面</div>
        <div>多人组队 | 360度环绕布局</div>
    </div>

    <a-scene 
        background="color: #0a0a0a"
        vr-mode-ui="enabled: true"
        device-orientation-permission-ui="enabled: false"
        loading-screen="dotsColor: #00ffff; backgroundColor: #000">
        
        <!-- 资源预加载 -->
        <a-assets>
            <a-mixin id="player-slot" 
                animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200"
                animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200">
            </a-mixin>
            <a-mixin id="hologram-material" 
                material="shader: standard; transparent: true; opacity: 0.8; emissive: #003366; emissiveIntensity: 0.3">
            </a-mixin>
        </a-assets>

        <!-- 环境光照 -->
        <a-light type="ambient" color="#404040" intensity="0.3"></a-light>
        <a-light type="directional" position="3 5 4" color="#ffffff" intensity="0.6"></a-light>
        <a-light type="point" position="0 3 0" color="#00ffff" intensity="0.8"></a-light>

        <!-- 全息投影背景 -->
        <a-sky color="#000022">
            <a-animation attribute="rotation" 
                to="0 360 0" 
                dur="180000" 
                repeat="indefinite">
            </a-animation>
        </a-sky>

        <!-- 中央控制台 -->
        <a-entity id="central-console" position="0 1.2 0">
            <!-- 控制台基座 -->
            <a-cylinder 
                radius="0.8" 
                height="0.1" 
                color="#001133" 
                material="emissive: #002266; emissiveIntensity: 0.4; metalness: 0.8">
                <a-animation attribute="rotation" 
                    to="0 360 0" 
                    dur="20000" 
                    repeat="indefinite">
                </a-animation>
            </a-cylinder>

            <!-- 全息地图预览 -->
            <a-entity id="map-preview" position="0 0.3 0">
                <a-box 
                    width="1" 
                    height="0.05" 
                    depth="1" 
                    color="#004466" 
                    material="transparent: true; opacity: 0.6; emissive: #006699; emissiveIntensity: 0.5">
                    <a-animation attribute="material.emissiveIntensity" 
                        to="0.8" 
                        direction="alternate" 
                        dur="2000" 
                        repeat="indefinite">
                    </a-animation>
                </a-box>
                <a-text 
                    value="太空站Alpha" 
                    position="0 0.1 0" 
                    align="center" 
                    color="#00ffff" 
                    width="4">
                </a-text>
            </a-entity>

            <!-- 房间信息面板 -->
            <a-entity id="room-info" position="0 0.8 0">
                <a-plane 
                    width="2" 
                    height="0.6" 
                    color="#001122" 
                    material="transparent: true; opacity: 0.8; emissive: #002244; emissiveIntensity: 0.3"
                    position="0 0 -0.5">
                </a-plane>
                <a-text 
                    value="房间: ALPHA-001" 
                    position="0 0.15 -0.4" 
                    align="center" 
                    color="#ffffff" 
                    width="5">
                </a-text>
                <a-text 
                    value="模式: 团队竞技" 
                    position="0 0 -0.4" 
                    align="center" 
                    color="#ffaa00" 
                    width="4">
                </a-text>
                <a-text 
                    value="玩家: 4/8" 
                    position="0 -0.15 -0.4" 
                    align="center" 
                    color="#00ff00" 
                    width="4">
                </a-text>
            </a-entity>
        </a-entity>

        <!-- 玩家位置环形布局 -->
        <a-entity id="player-circle" position="0 1.6 0">
            <!-- 玩家1 (正前方) -->
            <a-entity id="player-1" position="0 0 -2">
                <a-cylinder 
                    radius="0.3" 
                    height="1.8" 
                    color="#00aa00" 
                    mixin="player-slot hologram-material"
                    class="clickable">
                </a-cylinder>
                <a-sphere 
                    position="0 1 0" 
                    radius="0.2" 
                    color="#ffffff" 
                    material="emissive: #ffffff; emissiveIntensity: 0.3">
                </a-sphere>
                <a-text 
                    value="玩家1" 
                    position="0 -1.2 0" 
                    align="center" 
                    color="#00ff00" 
                    width="6">
                </a-text>
                <a-text 
                    value="准备就绪" 
                    position="0 -1.5 0" 
                    align="center" 
                    color="#00aa00" 
                    width="4">
                </a-text>
            </a-entity>

            <!-- 玩家2 (右前方) -->
            <a-entity id="player-2" position="1.4 0 -1.4" rotation="0 -45 0">
                <a-cylinder 
                    radius="0.3" 
                    height="1.8" 
                    color="#aa0000" 
                    mixin="player-slot hologram-material"
                    class="clickable">
                </a-cylinder>
                <a-sphere 
                    position="0 1 0" 
                    radius="0.2" 
                    color="#ffffff" 
                    material="emissive: #ffffff; emissiveIntensity: 0.3">
                </a-sphere>
                <a-text 
                    value="玩家2" 
                    position="0 -1.2 0" 
                    align="center" 
                    color="#ff0000" 
                    width="6">
                </a-text>
                <a-text 
                    value="等待中" 
                    position="0 -1.5 0" 
                    align="center" 
                    color="#aa0000" 
                    width="4">
                </a-text>
            </a-entity>

            <!-- 玩家3 (右侧) -->
            <a-entity id="player-3" position="2 0 0" rotation="0 -90 0">
                <a-cylinder 
                    radius="0.3" 
                    height="1.8" 
                    color="#0000aa" 
                    mixin="player-slot hologram-material"
                    class="clickable">
                </a-cylinder>
                <a-sphere 
                    position="0 1 0" 
                    radius="0.2" 
                    color="#ffffff" 
                    material="emissive: #ffffff; emissiveIntensity: 0.3">
                </a-sphere>
                <a-text 
                    value="玩家3" 
                    position="0 -1.2 0" 
                    align="center" 
                    color="#0000ff" 
                    width="6">
                </a-text>
                <a-text 
                    value="准备就绪" 
                    position="0 -1.5 0" 
                    align="center" 
                    color="#0000aa" 
                    width="4">
                </a-text>
            </a-entity>

            <!-- 玩家4 (右后方) -->
            <a-entity id="player-4" position="1.4 0 1.4" rotation="0 -135 0">
                <a-cylinder 
                    radius="0.3" 
                    height="1.8" 
                    color="#aa00aa" 
                    mixin="player-slot hologram-material"
                    class="clickable">
                </a-cylinder>
                <a-sphere 
                    position="0 1 0" 
                    radius="0.2" 
                    color="#ffffff" 
                    material="emissive: #ffffff; emissiveIntensity: 0.3">
                </a-sphere>
                <a-text 
                    value="玩家4" 
                    position="0 -1.2 0" 
                    align="center" 
                    color="#ff00ff" 
                    width="6">
                </a-text>
                <a-text 
                    value="等待中" 
                    position="0 -1.5 0" 
                    align="center" 
                    color="#aa00aa" 
                    width="4">
                </a-text>
            </a-entity>

            <!-- 空位置5-8 -->
            <a-entity id="slot-5" position="0 0 2" rotation="0 180 0">
                <a-cylinder 
                    radius="0.3" 
                    height="1.8" 
                    color="#333333" 
                    material="transparent: true; opacity: 0.3; wireframe: true"
                    class="clickable">
                </a-cylinder>
                <a-text 
                    value="空位" 
                    position="0 0 0" 
                    align="center" 
                    color="#666666" 
                    width="4">
                </a-text>
            </a-entity>

            <a-entity id="slot-6" position="-1.4 0 1.4" rotation="0 135 0">
                <a-cylinder 
                    radius="0.3" 
                    height="1.8" 
                    color="#333333" 
                    material="transparent: true; opacity: 0.3; wireframe: true"
                    class="clickable">
                </a-cylinder>
                <a-text 
                    value="空位" 
                    position="0 0 0" 
                    align="center" 
                    color="#666666" 
                    width="4">
                </a-text>
            </a-entity>

            <a-entity id="slot-7" position="-2 0 0" rotation="0 90 0">
                <a-cylinder 
                    radius="0.3" 
                    height="1.8" 
                    color="#333333" 
                    material="transparent: true; opacity: 0.3; wireframe: true"
                    class="clickable">
                </a-cylinder>
                <a-text 
                    value="空位" 
                    position="0 0 0" 
                    align="center" 
                    color="#666666" 
                    width="4">
                </a-text>
            </a-entity>

            <a-entity id="slot-8" position="-1.4 0 -1.4" rotation="0 45 0">
                <a-cylinder 
                    radius="0.3" 
                    height="1.8" 
                    color="#333333" 
                    material="transparent: true; opacity: 0.3; wireframe: true"
                    class="clickable">
                </a-cylinder>
                <a-text 
                    value="空位" 
                    position="0 0 0" 
                    align="center" 
                    color="#666666" 
                    width="4">
                </a-text>
            </a-entity>
        </a-entity>

        <!-- 控制面板 -->
        <a-entity id="control-panel" position="0 2.8 -1">
            <!-- 开始游戏按钮 -->
            <a-entity id="start-game-btn" position="0 0 0">
                <a-plane 
                    width="2" 
                    height="0.4" 
                    color="#ff6600" 
                    material="transparent: true; opacity: 0.9; emissive: #ff3300; emissiveIntensity: 0.3"
                    class="clickable">
                    <a-animation attribute="scale" 
                        to="1.05 1.05 1.05" 
                        direction="alternate" 
                        dur="1500" 
                        repeat="indefinite">
                    </a-animation>
                </a-plane>
                <a-text 
                    value="开始游戏" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    width="6">
                </a-text>
            </a-entity>

            <!-- 邀请好友按钮 -->
            <a-entity id="invite-btn" position="-1.5 -0.6 0">
                <a-plane 
                    width="1.2" 
                    height="0.3" 
                    color="#0066cc" 
                    material="transparent: true; opacity: 0.9"
                    class="clickable">
                </a-plane>
                <a-text 
                    value="邀请好友" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    width="4">
                </a-text>
            </a-entity>

            <!-- 更换地图按钮 -->
            <a-entity id="change-map-btn" position="0 -0.6 0">
                <a-plane 
                    width="1.2" 
                    height="0.3" 
                    color="#cc6600" 
                    material="transparent: true; opacity: 0.9"
                    class="clickable">
                </a-plane>
                <a-text 
                    value="更换地图" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    width="4">
                </a-text>
            </a-entity>

            <!-- 退出房间按钮 -->
            <a-entity id="exit-btn" position="1.5 -0.6 0">
                <a-plane 
                    width="1.2" 
                    height="0.3" 
                    color="#cc0000" 
                    material="transparent: true; opacity: 0.9"
                    class="clickable">
                </a-plane>
                <a-text 
                    value="退出房间" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    width="4">
                </a-text>
            </a-entity>
        </a-entity>

        <!-- 装饰性全息效果 -->
        <a-entity id="holographic-effects">
            <!-- 旋转光环 -->
            <a-torus 
                position="0 0.1 0" 
                radius="3" 
                radius-tubular="0.02" 
                color="#00ffff" 
                material="emissive: #00ffff; emissiveIntensity: 0.4; transparent: true; opacity: 0.5">
                <a-animation attribute="rotation" 
                    to="0 360 0" 
                    dur="15000" 
                    repeat="indefinite">
                </a-animation>
            </a-torus>

            <!-- 数据流效果 -->
            <a-entity id="data-streams">
                <a-box 
                    position="3 2 0" 
                    width="0.05" 
                    height="2" 
                    depth="0.05" 
                    color="#00ff00" 
                    material="emissive: #00ff00; emissiveIntensity: 0.6">
                    <a-animation attribute="position" 
                        to="3 -2 0" 
                        dur="3000" 
                        repeat="indefinite">
                    </a-animation>
                </a-box>
                <a-box 
                    position="-3 2 0" 
                    width="0.05" 
                    height="2" 
                    depth="0.05" 
                    color="#ff6600" 
                    material="emissive: #ff6600; emissiveIntensity: 0.6">
                    <a-animation attribute="position" 
                        to="-3 -2 0" 
                        dur="2500" 
                        repeat="indefinite">
                    </a-animation>
                </a-box>
            </a-entity>
        </a-entity>

        <!-- 用户摄像头和控制器 -->
        <a-entity id="rig" position="0 1.6 0">
            <a-camera 
                look-controls="pointerLockEnabled: true"
                wasd-controls="enabled: false">
                <!-- 准星 -->
                <a-ring 
                    position="0 0 -0.5" 
                    radius-inner="0.005" 
                    radius-outer="0.01" 
                    color="#00ffff" 
                    material="transparent: true; opacity: 0.6">
                </a-ring>
            </a-camera>
            
            <!-- 左手控制器 -->
            <a-entity 
                id="left-hand" 
                hand-controls="hand: left; handModelStyle: lowPoly; color: #15ACCF"
                laser-controls="hand: left"
                raycaster="objects: .clickable; far: 10">
            </a-entity>
            
            <!-- 右手控制器 -->
            <a-entity 
                id="right-hand" 
                hand-controls="hand: right; handModelStyle: lowPoly; color: #15ACCF"
                laser-controls="hand: right"
                raycaster="objects: .clickable; far: 10">
            </a-entity>
        </a-entity>

        <!-- 交互脚本 -->
        <script>
            // 按钮点击事件
            document.querySelector('#start-game-btn').addEventListener('click', function() {
                console.log('开始游戏被点击');
                // 检查所有玩家准备状态
            });

            document.querySelector('#invite-btn').addEventListener('click', function() {
                console.log('邀请好友被点击');
                // 打开好友邀请界面
            });

            document.querySelector('#change-map-btn').addEventListener('click', function() {
                console.log('更换地图被点击');
                // 打开地图选择界面
            });

            document.querySelector('#exit-btn').addEventListener('click', function() {
                console.log('退出房间被点击');
                // 返回主菜单
            });

            // 玩家位置点击事件
            for (let i = 1; i <= 8; i++) {
                const slot = document.querySelector(`#player-${i}`) || document.querySelector(`#slot-${i}`);
                if (slot) {
                    slot.addEventListener('click', function() {
                        console.log(`玩家位置${i}被点击`);
                        // 处理玩家位置交互
                    });
                }
            }

            // 模拟玩家状态更新
            setInterval(() => {
                // 这里可以添加实时更新玩家状态的逻辑
            }, 1000);
        </script>
    </a-scene>
</body>
</html>