<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR星战大联盟 - 社交好友界面</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <style>
        body {
            margin: 0;
            background: #000;
            overflow: hidden;
        }
        #ui-overlay {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #00ffff;
            font-family: 'Arial', sans-serif;
            z-index: 1000;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="ui-overlay">
        <div>MR星战大联盟 - 社交好友界面</div>
        <div>3D社交空间 | 好友互动中心</div>
    </div>

    <a-scene 
        background="color: #000033"
        vr-mode-ui="enabled: true"
        device-orientation-permission-ui="enabled: false"
        loading-screen="dotsColor: #00ffff; backgroundColor: #000">
        
        <!-- 资源预加载 -->
        <a-assets>
            <a-mixin id="friend-card" 
                animation__mouseenter="property: scale; to: 1.05 1.05 1.05; startEvents: mouseenter; dur: 200"
                animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200">
            </a-mixin>
            <a-mixin id="online-indicator" 
                animation__pulse="property: scale; to: 1.2 1.2 1.2; direction: alternate; dur: 1000; repeat: indefinite">
            </a-mixin>
        </a-assets>

        <!-- 环境光照 -->
        <a-light type="ambient" color="#404040" intensity="0.4"></a-light>
        <a-light type="directional" position="3 5 4" color="#ffffff" intensity="0.7"></a-light>
        <a-light type="point" position="0 3 0" color="#00ffff" intensity="1.0"></a-light>

        <!-- 全息投影背景 -->
        <a-sky color="#000044">
            <a-animation attribute="rotation" 
                to="0 360 0" 
                dur="200000" 
                repeat="indefinite">
            </a-animation>
        </a-sky>

        <!-- 中央社交中心 -->
        <a-entity id="social-center" position="0 1.5 0">
            <!-- 基座 -->
            <a-cylinder 
                radius="1" 
                height="0.1" 
                color="#001133" 
                material="emissive: #002266; emissiveIntensity: 0.4; metalness: 0.8">
                <a-animation attribute="rotation" 
                    to="0 360 0" 
                    dur="30000" 
                    repeat="indefinite">
                </a-animation>
            </a-cylinder>

            <!-- 社交状态显示 -->
            <a-entity id="social-status" position="0 0.8 0">
                <a-text 
                    value="好友在线: 8/25" 
                    position="0 0.3 0" 
                    align="center" 
                    color="#ffffff" 
                    width="8">
                </a-text>
                <a-text 
                    value="战队成员: 4/6" 
                    position="0 0.15 0" 
                    align="center" 
                    color="#00ff00" 
                    width="6">
                </a-text>
                <a-text 
                    value="当前状态: 在线" 
                    position="0 0 0" 
                    align="center" 
                    color="#ffaa00" 
                    width="6">
                </a-text>
            </a-entity>
        </a-entity>

        <!-- 在线好友列表 (左侧) -->
        <a-entity id="online-friends" position="-3.5 2 0">
            <a-text 
                value="在线好友" 
                position="0 1 0" 
                align="center" 
                color="#ffffff" 
                width="8">
            </a-text>

            <!-- 好友1 -->
            <a-entity id="friend-1" position="0 0.6 0">
                <a-plane 
                    width="2.5" 
                    height="0.4" 
                    color="#001122" 
                    mixin="friend-card"
                    class="clickable">
                </a-plane>
                <!-- 在线状态指示器 -->
                <a-sphere 
                    position="-1.1 0.1 0.01" 
                    radius="0.03" 
                    color="#00ff00" 
                    material="emissive: #00ff00; emissiveIntensity: 0.8"
                    mixin="online-indicator">
                </a-sphere>
                <!-- 头像 -->
                <a-sphere 
                    position="-0.9 0 0.01" 
                    radius="0.1" 
                    color="#ffffff" 
                    material="emissive: #ffffff; emissiveIntensity: 0.2">
                </a-sphere>
                <!-- 好友信息 -->
                <a-text 
                    value="银河战士" 
                    position="-0.6 0.08 0.01" 
                    align="left" 
                    color="#ffffff" 
                    width="5">
                </a-text>
                <a-text 
                    value="等级: 28" 
                    position="-0.6 -0.05 0.01" 
                    align="left" 
                    color="#ffaa00" 
                    width="4">
                </a-text>
                <a-text 
                    value="游戏中" 
                    position="0.8 0 0.01" 
                    align="right" 
                    color="#ff6600" 
                    width="4">
                </a-text>
                <!-- 操作按钮 -->
                <a-plane 
                    position="0.9 -0.1 0.01" 
                    width="0.3" 
                    height="0.15" 
                    color="#006600" 
                    class="clickable invite-btn">
                </a-plane>
                <a-text 
                    value="邀请" 
                    position="0.9 -0.1 0.02" 
                    align="center" 
                    color="#ffffff" 
                    width="3">
                </a-text>
            </a-entity>

            <!-- 好友2 -->
            <a-entity id="friend-2" position="0 0.1 0">
                <a-plane 
                    width="2.5" 
                    height="0.4" 
                    color="#001122" 
                    mixin="friend-card"
                    class="clickable">
                </a-plane>
                <a-sphere 
                    position="-1.1 0.1 0.01" 
                    radius="0.03" 
                    color="#00ff00" 
                    material="emissive: #00ff00; emissiveIntensity: 0.8"
                    mixin="online-indicator">
                </a-sphere>
                <a-sphere 
                    position="-0.9 0 0.01" 
                    radius="0.1" 
                    color="#ffffff" 
                    material="emissive: #ffffff; emissiveIntensity: 0.2">
                </a-sphere>
                <a-text 
                    value="宇宙猎手" 
                    position="-0.6 0.08 0.01" 
                    align="left" 
                    color="#ffffff" 
                    width="5">
                </a-text>
                <a-text 
                    value="等级: 22" 
                    position="-0.6 -0.05 0.01" 
                    align="left" 
                    color="#ffaa00" 
                    width="4">
                </a-text>
                <a-text 
                    value="大厅中" 
                    position="0.8 0 0.01" 
                    align="right" 
                    color="#00ff00" 
                    width="4">
                </a-text>
                <a-plane 
                    position="0.9 -0.1 0.01" 
                    width="0.3" 
                    height="0.15" 
                    color="#006600" 
                    class="clickable invite-btn">
                </a-plane>
                <a-text 
                    value="邀请" 
                    position="0.9 -0.1 0.02" 
                    align="center" 
                    color="#ffffff" 
                    width="3">
                </a-text>
            </a-entity>

            <!-- 好友3 -->
            <a-entity id="friend-3" position="0 -0.4 0">
                <a-plane 
                    width="2.5" 
                    height="0.4" 
                    color="#001122" 
                    mixin="friend-card"
                    class="clickable">
                </a-plane>
                <a-sphere 
                    position="-1.1 0.1 0.01" 
                    radius="0.03" 
                    color="#00ff00" 
                    material="emissive: #00ff00; emissiveIntensity: 0.8"
                    mixin="online-indicator">
                </a-sphere>
                <a-sphere 
                    position="-0.9 0 0.01" 
                    radius="0.1" 
                    color="#ffffff" 
                    material="emissive: #ffffff; emissiveIntensity: 0.2">
                </a-sphere>
                <a-text 
                    value="星际指挥" 
                    position="-0.6 0.08 0.01" 
                    align="left" 
                    color="#ffffff" 
                    width="5">
                </a-text>
                <a-text 
                    value="等级: 31" 
                    position="-0.6 -0.05 0.01" 
                    align="left" 
                    color="#ffaa00" 
                    width="4">
                </a-text>
                <a-text 
                    value="离开" 
                    position="0.8 0 0.01" 
                    align="right" 
                    color="#ffaa00" 
                    width="4">
                </a-text>
                <a-plane 
                    position="0.9 -0.1 0.01" 
                    width="0.3" 
                    height="0.15" 
                    color="#666600" 
                    class="clickable message-btn">
                </a-plane>
                <a-text 
                    value="消息" 
                    position="0.9 -0.1 0.02" 
                    align="center" 
                    color="#ffffff" 
                    width="3">
                </a-text>
            </a-entity>

            <!-- 好友4 -->
            <a-entity id="friend-4" position="0 -0.9 0">
                <a-plane 
                    width="2.5" 
                    height="0.4" 
                    color="#001122" 
                    mixin="friend-card"
                    class="clickable">
                </a-plane>
                <a-sphere 
                    position="-1.1 0.1 0.01" 
                    radius="0.03" 
                    color="#00ff00" 
                    material="emissive: #00ff00; emissiveIntensity: 0.8"
                    mixin="online-indicator">
                </a-sphere>
                <a-sphere 
                    position="-0.9 0 0.01" 
                    radius="0.1" 
                    color="#ffffff" 
                    material="emissive: #ffffff; emissiveIntensity: 0.2">
                </a-sphere>
                <a-text 
                    value="量子战神" 
                    position="-0.6 0.08 0.01" 
                    align="left" 
                    color="#ffffff" 
                    width="5">
                </a-text>
                <a-text 
                    value="等级: 26" 
                    position="-0.6 -0.05 0.01" 
                    align="left" 
                    color="#ffaa00" 
                    width="4">
                </a-text>
                <a-text 
                    value="训练中" 
                    position="0.8 0 0.01" 
                    align="right" 
                    color="#0066ff" 
                    width="4">
                </a-text>
                <a-plane 
                    position="0.9 -0.1 0.01" 
                    width="0.3" 
                    height="0.15" 
                    color="#006600" 
                    class="clickable invite-btn">
                </a-plane>
                <a-text 
                    value="邀请" 
                    position="0.9 -0.1 0.02" 
                    align="center" 
                    color="#ffffff" 
                    width="3">
                </a-text>
            </a-entity>
        </a-entity>

        <!-- 战队信息 (右侧) -->
        <a-entity id="team-info" position="3.5 2 0">
            <a-text 
                value="我的战队" 
                position="0 1 0" 
                align="center" 
                color="#ffffff" 
                width="8">
            </a-text>

            <!-- 战队标志 -->
            <a-entity id="team-logo" position="0 0.6 0">
                <a-sphere 
                    radius="0.2" 
                    color="#ff6600" 
                    material="emissive: #ff6600; emissiveIntensity: 0.4; metalness: 0.8">
                    <a-animation attribute="rotation" 
                        to="0 360 0" 
                        dur="12000" 
                        repeat="indefinite">
                    </a-animation>
                </a-sphere>
                <a-text 
                    value="星际突击队" 
                    position="0 -0.4 0" 
                    align="center" 
                    color="#ff6600" 
                    width="6">
                </a-text>
                <a-text 
                    value="等级: 15" 
                    position="0 -0.55 0" 
                    align="center" 
                    color="#ffaa00" 
                    width="5">
                </a-text>
            </a-entity>

            <!-- 战队成员 -->
            <a-entity id="team-members" position="0 0 0">
                <!-- 队长 -->
                <a-entity id="team-leader" position="0 0 0">
                    <a-plane 
                        width="2.5" 
                        height="0.3" 
                        color="#330011" 
                        material="emissive: #660022; emissiveIntensity: 0.2"
                        class="clickable">
                    </a-plane>
                    <a-sphere 
                        position="-1 0 0.01" 
                        radius="0.08" 
                        color="#ffaa00" 
                        material="emissive: #ffaa00; emissiveIntensity: 0.4">
                    </a-sphere>
                    <a-text 
                        value="👑 星战指挥官 (队长)" 
                        position="-0.7 0.05 0.01" 
                        align="left" 
                        color="#ffffff" 
                        width="4">
                    </a-text>
                    <a-text 
                        value="在线" 
                        position="1 0 0.01" 
                        align="right" 
                        color="#00ff00" 
                        width="4">
                    </a-text>
                </a-entity>

                <!-- 成员1 -->
                <a-entity id="team-member-1" position="0 -0.4 0">
                    <a-plane 
                        width="2.5" 
                        height="0.3" 
                        color="#001133" 
                        class="clickable">
                    </a-plane>
                    <a-sphere 
                        position="-1 0 0.01" 
                        radius="0.08" 
                        color="#ffffff" 
                        material="emissive: #ffffff; emissiveIntensity: 0.2">
                    </a-sphere>
                    <a-text 
                        value="银河战士" 
                        position="-0.7 0.05 0.01" 
                        align="left" 
                        color="#ffffff" 
                        width="4">
                    </a-text>
                    <a-text 
                        value="游戏中" 
                        position="1 0 0.01" 
                        align="right" 
                        color="#ff6600" 
                        width="4">
                    </a-text>
                </a-entity>

                <!-- 成员2 -->
                <a-entity id="team-member-2" position="0 -0.8 0">
                    <a-plane 
                        width="2.5" 
                        height="0.3" 
                        color="#001133" 
                        class="clickable">
                    </a-plane>
                    <a-sphere 
                        position="-1 0 0.01" 
                        radius="0.08" 
                        color="#ffffff" 
                        material="emissive: #ffffff; emissiveIntensity: 0.2">
                    </a-sphere>
                    <a-text 
                        value="宇宙猎手" 
                        position="-0.7 0.05 0.01" 
                        align="left" 
                        color="#ffffff" 
                        width="4">
                    </a-text>
                    <a-text 
                        value="在线" 
                        position="1 0 0.01" 
                        align="right" 
                        color="#00ff00" 
                        width="4">
                    </a-text>
                </a-entity>

                <!-- 成员3 -->
                <a-entity id="team-member-3" position="0 -1.2 0">
                    <a-plane 
                        width="2.5" 
                        height="0.3" 
                        color="#001133" 
                        class="clickable">
                    </a-plane>
                    <a-sphere 
                        position="-1 0 0.01" 
                        radius="0.08" 
                        color="#888888" 
                        material="emissive: #888888; emissiveIntensity: 0.2">
                    </a-sphere>
                    <a-text 
                        value="量子战神" 
                        position="-0.7 0.05 0.01" 
                        align="left" 
                        color="#888888" 
                        width="4">
                    </a-text>
                    <a-text 
                        value="离线" 
                        position="1 0 0.01" 
                        align="right" 
                        color="#666666" 
                        width="4">
                    </a-text>
                </a-entity>
            </a-entity>
        </a-entity>

        <!-- 聊天消息区域 -->
        <a-entity id="chat-area" position="0 0.5 2">
            <a-text 
                value="团队聊天" 
                position="0 1 0" 
                align="center" 
                color="#ffffff" 
                width="8">
            </a-text>

            <!-- 聊天背景 -->
            <a-plane 
                width="4" 
                height="1.5" 
                color="#000011" 
                material="transparent: true; opacity: 0.8">
            </a-plane>

            <!-- 聊天消息 -->
            <a-entity id="chat-messages">
                <a-text 
                    value="银河战士: 准备开始新一轮比赛!" 
                    position="-1.8 0.5 0.01" 
                    align="left" 
                    color="#00ff00" 
                    width="4">
                </a-text>
                <a-text 
                    value="宇宙猎手: 我已经准备好了" 
                    position="-1.8 0.3 0.01" 
                    align="left" 
                    color="#0066ff" 
                    width="4">
                </a-text>
                <a-text 
                    value="星战指挥官: 等我装备好武器" 
                    position="-1.8 0.1 0.01" 
                    align="left" 
                    color="#ffaa00" 
                    width="4">
                </a-text>
                <a-text 
                    value="系统: 量子战神已离线" 
                    position="-1.8 -0.1 0.01" 
                    align="left" 
                    color="#888888" 
                    width="4">
                </a-text>
                <a-text 
                    value="银河战士: 那我们三个人先开始" 
                    position="-1.8 -0.3 0.01" 
                    align="left" 
                    color="#00ff00" 
                    width="4">
                </a-text>
            </a-entity>

            <!-- 输入框 -->
            <a-entity id="chat-input" position="0 -0.9 0">
                <a-plane 
                    width="3.5" 
                    height="0.2" 
                    color="#112233" 
                    material="transparent: true; opacity: 0.9"
                    class="clickable">
                </a-plane>
                <a-text 
                    value="点击输入消息..." 
                    position="-1.6 0 0.01" 
                    align="left" 
                    color="#888888" 
                    width="4">
                </a-text>
                <!-- 发送按钮 -->
                <a-plane 
                    position="1.5 0 0.01" 
                    width="0.4" 
                    height="0.15" 
                    color="#006600" 
                    class="clickable send-btn">
                </a-plane>
                <a-text 
                    value="发送" 
                    position="1.5 0 0.02" 
                    align="center" 
                    color="#ffffff" 
                    width="3">
                </a-text>
            </a-entity>
        </a-entity>

        <!-- 功能按钮区域 -->
        <a-entity id="function-buttons" position="0 0.2 3">
            <!-- 添加好友 -->
            <a-entity id="add-friend-btn" position="-2 0 0">
                <a-plane 
                    width="1.5" 
                    height="0.4" 
                    color="#006600" 
                    material="transparent: true; opacity: 0.9; emissive: #004400; emissiveIntensity: 0.3"
                    class="clickable">
                </a-plane>
                <a-text 
                    value="添加好友" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    width="5">
                </a-text>
            </a-entity>

            <!-- 创建战队 -->
            <a-entity id="create-team-btn" position="-0.5 0 0">
                <a-plane 
                    width="1.5" 
                    height="0.4" 
                    color="#660066" 
                    material="transparent: true; opacity: 0.9"
                    class="clickable">
                </a-plane>
                <a-text 
                    value="创建战队" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    width="5">
                </a-text>
            </a-entity>

            <!-- 加入战队 -->
            <a-entity id="join-team-btn" position="1 0 0">
                <a-plane 
                    width="1.5" 
                    height="0.4" 
                    color="#0066cc" 
                    material="transparent: true; opacity: 0.9"
                    class="clickable">
                </a-plane>
                <a-text 
                    value="加入战队" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    width="5">
                </a-text>
            </a-entity>

            <!-- 返回 -->
            <a-entity id="back-btn" position="2.5 0 0">
                <a-plane 
                    width="1.5" 
                    height="0.4" 
                    color="#cc6600" 
                    material="transparent: true; opacity: 0.9"
                    class="clickable">
                </a-plane>
                <a-text 
                    value="返回" 
                    position="0 0 0.01" 
                    align="center" 
                    color="#ffffff" 
                    width="5">
                </a-text>
            </a-entity>
        </a-entity>

        <!-- 装饰性全息效果 -->
        <a-entity id="holographic-effects">
            <!-- 连接线效果 -->
            <a-entity id="connection-lines">
                <a-torus 
                    position="0 1 0" 
                    radius="5" 
                    radius-tubular="0.01" 
                    color="#00ffff" 
                    material="emissive: #00ffff; emissiveIntensity: 0.2; transparent: true; opacity: 0.3">
                    <a-animation attribute="rotation" 
                        to="0 360 0" 
                        dur="35000" 
                        repeat="indefinite">
                    </a-animation>
                </a-torus>
            </a-entity>

            <!-- 社交网络节点 -->
            <a-entity id="social-nodes">
                <a-sphere 
                    position="4 2 1" 
                    radius="0.05" 
                    color="#00ff00" 
                    material="emissive: #00ff00; emissiveIntensity: 0.8">
                    <a-animation attribute="position" 
                        to="4 3 1" 
                        direction="alternate" 
                        dur="3000" 
                        repeat="indefinite">
                    </a-animation>
                </a-sphere>
                <a-sphere 
                    position="-4 1 -1" 
                    radius="0.05" 
                    color="#ff6600" 
                    material="emissive: #ff6600; emissiveIntensity: 0.8">
                    <a-animation attribute="position" 
                        to="-4 2 -1" 
                        direction="alternate" 
                        dur="4000" 
                        repeat="indefinite">
                    </a-animation>
                </a-sphere>
            </a-entity>
        </a-entity>

        <!-- 用户摄像头和控制器 -->
        <a-entity id="rig" position="0 1.6 0">
            <a-camera 
                look-controls="pointerLockEnabled: true"
                wasd-controls="enabled: false">
                <!-- 准星 -->
                <a-ring 
                    position="0 0 -0.5" 
                    radius-inner="0.005" 
                    radius-outer="0.01" 
                    color="#00ffff" 
                    material="transparent: true; opacity: 0.6">
                </a-ring>
            </a-camera>
            
            <!-- 左手控制器 -->
            <a-entity 
                id="left-hand" 
                hand-controls="hand: left; handModelStyle: lowPoly; color: #15ACCF"
                laser-controls="hand: left"
                raycaster="objects: .clickable; far: 10">
            </a-entity>
            
            <!-- 右手控制器 -->
            <a-entity 
                id="right-hand" 
                hand-controls="hand: right; handModelStyle: lowPoly; color: #15ACCF"
                laser-controls="hand: right"
                raycaster="objects: .clickable; far: 10">
            </a-entity>
        </a-entity>

        <!-- 交互脚本 -->
        <script>
            // 好友数据
            const friendsData = {
                online: [
                    { id: 1, name: '银河战士', level: 28, status: '游戏中', avatar: '#ffffff' },
                    { id: 2, name: '宇宙猎手', level: 22, status: '大厅中', avatar: '#ffffff' },
                    { id: 3, name: '星际指挥', level: 31, status: '离开', avatar: '#ffffff' },
                    { id: 4, name: '量子战神', level: 26, status: '训练中', avatar: '#ffffff' }
                ],
                team: [
                    { id: 0, name: '星战指挥官', role: '队长', status: '在线' },
                    { id: 1, name: '银河战士', role: '成员', status: '游戏中' },
                    { id: 2, name: '宇宙猎手', role: '成员', status: '在线' },
                    { id: 3, name: '量子战神', role: '成员', status: '离线' }
                ]
            };

            // 聊天消息数据
            let chatMessages = [
                { sender: '银河战士', message: '准备开始新一轮比赛!', color: '#00ff00' },
                { sender: '宇宙猎手', message: '我已经准备好了', color: '#0066ff' },
                { sender: '星战指挥官', message: '等我装备好武器', color: '#ffaa00' },
                { sender: '系统', message: '量子战神已离线', color: '#888888' },
                { sender: '银河战士', message: '那我们三个人先开始', color: '#00ff00' }
            ];

            // 好友卡片点击事件
            document.querySelectorAll('#online-friends .clickable').forEach((card, index) => {
                card.addEventListener('click', function() {
                    console.log('好友卡片被点击:', friendsData.online[index]?.name);
                    // 显示好友详情
                });
            });

            // 邀请按钮点击事件
            document.querySelectorAll('.invite-btn').forEach((btn, index) => {
                btn.addEventListener('click', function(event) {
                    event.stopPropagation();
                    console.log('邀请好友:', friendsData.online[index]?.name);
                    // 发送游戏邀请
                });
            });

            // 消息按钮点击事件
            document.querySelectorAll('.message-btn').forEach((btn, index) => {
                btn.addEventListener('click', function(event) {
                    event.stopPropagation();
                    console.log('发送消息给:', friendsData.online[index]?.name);
                    // 打开私聊窗口
                });
            });

            // 战队成员点击事件
            document.querySelectorAll('#team-members .clickable').forEach((member, index) => {
                member.addEventListener('click', function() {
                    console.log('战队成员被点击:', friendsData.team[index]?.name);
                    // 显示成员详情
                });
            });

            // 聊天输入框点击事件
            document.querySelector('#chat-input .clickable').addEventListener('click', function() {
                console.log('聊天输入框被点击');
                // 激活输入模式
            });

            // 发送按钮点击事件
            document.querySelector('.send-btn').addEventListener('click', function() {
                console.log('发送消息');
                // 发送聊天消息
                addChatMessage('星战指挥官', '新消息内容', '#ffaa00');
            });

            // 功能按钮点击事件
            document.querySelector('#add-friend-btn').addEventListener('click', function() {
                console.log('添加好友被点击');
                // 打开添加好友界面
            });

            document.querySelector('#create-team-btn').addEventListener('click', function() {
                console.log('创建战队被点击');
                // 打开创建战队界面
            });

            document.querySelector('#join-team-btn').addEventListener('click', function() {
                console.log('加入战队被点击');
                // 打开战队搜索界面
            });

            document.querySelector('#back-btn').addEventListener('click', function() {
                console.log('返回被点击');
                // 返回主菜单
            });

            // 添加聊天消息
            function addChatMessage(sender, message, color) {
                chatMessages.push({ sender, message, color });
                if (chatMessages.length > 5) {
                    chatMessages.shift(); // 保持最多5条消息
                }
                updateChatDisplay();
            }

            // 更新聊天显示
            function updateChatDisplay() {
                const chatContainer = document.querySelector('#chat-messages');
                // 这里可以动态更新聊天消息显示
            }

            // 模拟实时消息
            const sampleMessages = [
                { sender: '银河战士', message: '有人要一起刷副本吗？', color: '#00ff00' },
                { sender: '宇宙猎手', message: '我来！', color: '#0066ff' },
                { sender: '系统', message: '新的活动已开启', color: '#888888' }
            ];

            setInterval(() => {
                if (Math.random() < 0.3) {
                    const randomMessage = sampleMessages[Math.floor(Math.random() * sampleMessages.length)];
                    addChatMessage(randomMessage.sender, randomMessage.message, randomMessage.color);
                }
            }, 10000);

            // 模拟好友状态更新
            setInterval(() => {
                // 随机更新好友状态
                const statuses = ['在线', '游戏中', '大厅中', '离开', '训练中'];
                friendsData.online.forEach(friend => {
                    if (Math.random() < 0.1) {
                        friend.status = statuses[Math.floor(Math.random() * statuses.length)];
                    }
                });
            }, 15000);
        </script>
    </a-scene>
</body>
</html>